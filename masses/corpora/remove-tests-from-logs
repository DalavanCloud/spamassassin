#!/usr/bin/perl

my @tests = @ARGV;

my $sub = '
        while (<STDIN>) {
';
foreach my $test (@tests) {
          $sub .= q{ s/\b\Q}.$test.q{\E\b//g; };
}
$sub .= '
          s/,,+/,/g; s/,+$//; s/ ,/ /; print;
        }
';

#print $sub;die;
eval $sub;
